<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="uft-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Sincerely, Earth</title>
        <link rel="stylesheet" href="/styles/scene2.css">
        <script src="js/scripts.js"></script>
        <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    </head>

    <body>
        <audio autoplay loop>
            <source src="../assets/audio/bgm/Future_Glider_-_Brian_Bolger.mp3" type="audio/mpeg">
        </audio>

        <div id="s2-1" class="scene" style="display: block;">
            <div id="bg1" class="image">
                <img class="img-bg" src="../assets/images/scene2/scene2-1.png" alt="A spaceship in the space">
            </div>
            <div class="text">
                <div id="box1" class="textbox" >
                    <p>This story takes place in 2100 and starts off in a spaceship home to over 200 citizens.</p>
                </div>
            </div>
            
        </div>
        
        <div id="s2-2" class="scene" style="display: none;">
            <div id="bg2" class="image">
                <img class="img-bg" src="../assets/images/scene2/scene2-2.png" alt="Girl holding a monocular while talking with robot">
            </div>
            <div class="text" >
                <div id="box2" class="speechbox" >
                    <p><b>Aeryn:</b> It's so scary looking back at what remains of earth, I wish I could see Earth back when things weren't so bad.</p>
                </div>
            </div>
        </div>

        <div id="s2-3" class="scene" style="display: none;">
            <div id="bg3" class="image">
                <img class="img-bg" src="../assets/images/scene2/scene2-2.png" alt="Girl holding a monocular while talking with robot">
            </div>
            <div class="text" >
                <div id="box2" class="speechbox" >
                    <p><b>Aeryn:</b> You know I’ve trained all my life to return to Earth, I know my purpose isn’t to live in this spaceship but to save our actual home on Earth.</p>
                </div>
            </div>
        </div>

        <!-- <div id="s2-4" class="scene" style="display: none;">
            <div id="bg4" class="image">
                <img src="img/go.png" alt="robot presenting a pop-up box with the option to name your character">
            </div>
            <div class="text" >
                <div id="pop-up" class="speechbox" >
                    <p><b>Robot:</b> Would you like to change the name of the character?</p>
                </div>
                </div>
                <div id="form">
                    <form>
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name">
                        <input type="submit" value="Submit">
                    </form>
                </div>
                <audio controls autoplay>
                    <source src="sound/robot.wav" type="audio/mpeg">
                </audio>
            </div>
        </div> -->

        <div id="s2-5" class="scene" style="display: none;">
            <div id="bg3" class="image">
                <img class="img-bg" src="../assets/images/scene2/scene2-4.png" alt="Girl holding a monocular while talking with robot">
            </div>
            <div class="text" >
                <div id="box4" class="speechbox" >
                    <p><b>Robot:</b> Well *name*  you won’t have to wait much longer, I came here to let you know that you were one of the people selected to go back to Earth.</p>
                </div>
                <!-- <audio controls autoplay>
                    <source src="sound/robot.wav" type="audio/mpeg">
                </audio> -->
            </div>
        </div>

        <div id="s2-6" class="scene" style="display: none;">
            <div id="bg3" class="image">
                <img class="img-bg" src="../assets/images/scene2/smile.png" alt="Excited girl with a big smile talking to a robot">
            </div>
            <div class="text" >
                <div id="box2" class="speechbox" >
                    <p><b>Aeryn:</b> No way! <b>excited</b> This is great news. When can I go?</p>
                </div>
            </div>
        </div>

        <div id="s2-7" class="scene" style="display: none;">
            <div id="bg3" class="image">
                <img class="img-bg" src="../assets/images/scene2/scene2-4.png" alt="Robot talking">
            </div>
            <div class="text" >
                <div id="box4" class="speechbox" >
                    <p><b>Robot:</b> I have been recently updated with the technology to open a portal to send people back in time whenever they like.</p>
                </div>
                <!-- <audio controls autoplay>
                    <source src="sound/robot.wav" type="audio/mpeg">
                </audio> -->
            </div>
        </div>
        <div id="s2-8" class="scene" style="display: none;">
            <div id="bg3" class="image">
                <img class="img-bg" src="../assets/images/scene2/scene2-4.png" alt="Robot talking">
            </div>
            <div class="text" >
                <div id="box4" class="speechbox" >
                    <p><b>Robot:</b> You are going back to a parallel dimension, which means it is not exactly the same Earth as your ancestors.</p>
                </div>
                <!-- <audio controls autoplay>
                    <source src="sound/robot.wav" type="audio/mpeg">
                </audio> -->
            </div>
        </div>
        <div id="s2-9" class="scene" style="display: none;">
            <div id="bg3" class="image">
                <img class="img-bg" src="../assets/images/scene2/scene2-4.png" alt="Robot talking">
            </div>
            <div class="text" >
                <div id="box4" class="speechbox" >
                    <p><b>Robot:</b> In this new dimension you will be sent back to 2022 on Earth, they are headed for the same events and fate of a catastrophic global crisis, even if the people and countries aren’t exactly the same as those of this dimension.</p>
                </div>
                <!-- <audio controls autoplay>
                    <source src="sound/robot.wav" type="audio/mpeg">
                </audio> -->
            </div>
        </div>
        <div id="s2-10" class="scene" style="display: none;">
            <div id="bg3" class="image">
                <img class="img-bg" src="../assets/images/scene2/thinking.png" alt="Girl in deep though while talking to a robot">
            </div>
            <div class="text" >
                <div id="box2" class="speechbox" >
                    <p><b>Aeryn:</b> So everything I learned in the history books won’t apply to this new Earth? Will countries even look at the same in this new dimension? Why can’t we just go back in time in our dimension?</p>
                </div>
            </div>
        </div>
        <div id="s2-11" class="scene" style="display: none;">
            <div id="bg3" class="image">
                <img class="img-bg" src="../assets/images/scene2/thinking.png" alt="Girl in deep though while talking to a robot">
            </div>
            <div class="text" >
                <div id="box3" class="speechbox" >
                    <p><b>Robot:</b> Changing the fate of your timeline will cause the grandfather paradox effect and is impossible to do. Don’t worry, this new dimension looks exactly the same, but due to people going back in time to this alternate universe, it has resulted in some changed politicians and people, but we are yet to change the fate of the climate crisis. But I must warn you, you might look like a different version of yourself, and once you go, you won’t be able to come back.</p>
                </div>
                <!-- <audio controls autoplay>
                    <source src="sound/robot.wav" type="audio/mpeg">
                </audio> -->
            </div>
        </div>
        <div id="s2-12" class="scene" style="display: none;">
            <div id="bg3" class="image">
                <img class="img-bg" src="../assets/images/scene2/thinking.png" alt="Girl in deep though while talking to a robot">
            </div>
            <div class="text" >
                <div id="box2" class="speechbox" >
                    <p><b>Aeryn:</b> So when will the rest of the people from this spaceship be able to come back to Earth in this parallel dimension, and how will they know it’s okay to go back?</p>
                </div>
            </div>
        </div>
        <div id="s2-13" class="scene" style="display: none;">
            <div id="bg3" class="image">
                <img class="img-bg" src="../assets/images/scene2/thinking.png" alt="Girl in deep though while talking to a robot">
            </div>
            <div class="text" >
                <div id="box3" class="speechbox" >
                    <p><b>Robot:</b> We have technology to monitor Earth’s progress, if you and the others selected are able to serve your mission and improve the state of the Earth, then we will send the rest of this ship back on Earth. For now I will give you this teleportation device, use it wisely since people in 2022 aren’t accustomed to this sort of technology.</p>
                </div>
                <!-- <audio controls autoplay>
                    <source src="sound/robot.wav" type="audio/mpeg">
                </audio> -->
            </div>
        </div>
        <div id="s2-14" class="scene" style="display: none;">
            <div id="bg4" class="image">
                <img class="img-bg" src="../assets/images/scene2/go.png" alt="robot presenting a pop-up box with the words: Are you ready to go? And a button yes as a response">
            </div>
    
            <div>
                <input type="image" src="../assets/images/scene2/yes.png" id="yes_button" alt="yes button" />
            </div>
            
            <div class="inventory">
                <img id="inventory-bg" src="../assets/images/scene2/inventory-bg.png" alt="inventory box">
                <div class="icons">
                    <img id="camera-lock" class="lock" src="../assets/images/scene2/lock.png" alt="camera item" style="display: block;">
                    <img id="map-lock" class="lock" src="../assets/images/scene2/lock.png" alt="map item" style="display: block;">
                    <img id="app-icon" class="icon" src="../assets/images/scene2/icon.png" alt="app item" style="display: block;" onclick="loadPopup()">
                </div>
            </div>
        </div>
        <div id="s2-15" class="scene" style="display: none;">
            <div id="bg5" class="image">
                <img src="../assets/images/scene2/travel.png" alt="robot presenting a pop-up box with the option to name your character">
            </div>

            <!-- <audio controls autoplay>
                <source src="sound/portal.mp3" type="audio/mpeg">
            </audio> -->
        </div>

        <div id="nextBtn" class="btn2" style="display: none;" ></div> 
        
        <!-- <div id="box2" class="speechBubble" style="display: none">
            <p>It's so scary looking back at what remains of earth, I wish I could see Earth back when things weren't so bad.</p>
        </div> -->

        <script>
            /*------Changing div with next and prev button------*/

            //store the divs of the specified className into an array
            var IdStore = new Array();
            function storeSceneId(){
                var className = document.getElementsByClassName('scene');
                var classNameCount = className.length;
                
                for(var j = 0; j < classNameCount; j++){
                    IdStore.push(className[j].id);
                }
                console.log(IdStore);
            }
            storeSceneId();
            
            //show or hide the div when next button is clicked
            var currentIndex = 0;
            
            var next = document.getElementById("nextBtn");
            next.addEventListener("click", function(i) {

                //hide next button when clicked each time
                document.getElementById('nextBtn').style.display= "none";

                if (currentIndex < IdStore.length-1) {
                    console.log('next'); 
                    currentIndex += 1;
                    console.log(currentIndex);
                    var divId = IdStore[currentIndex];

                    console.log(divId, currentIndex);
                    document.getElementById(divId).style.display = "block";
                    var prevIndex = currentIndex - 1;
                    console.log(prevIndex);
                    if (prevIndex >= 0) {
                        var preId = IdStore[prevIndex];
                        document.getElementById(preId).style.display = "none";
                    }

                    //next button appearing after 3 second
                    setTimeout(appeardiv, 3000);
                    function appeardiv() {
                        //not appear for the last cut
                        if (currentIndex < IdStore.length-2) {
                            document.getElementById('nextBtn').style.display= "block";
                        }
                        
                    }

                } else if ((i.keyCode == 37) && (currentIndex >= 1)) { //show or hide the div when prev button is clicked
                    var divId = IdStore[currentIndex];
                    console.log(divId, currentIndex);
                    document.getElementById(divId).style.display = "none";
                    currentIndex -= 1;
                    console.log(currentIndex);
                    var divId2 = IdStore[currentIndex];
                    document.getElementById(divId2).style.display = "block";
                } 
            }); 

            //make button appear after specific time
            window.onload = function () {
                setTimeout(appeardiv, 3000);
            }

            function appeardiv() {
                document.getElementById('nextBtn').style.display= "block";
            }

            function loadPopup() {
                document.getElementById('yes_button').style.visibility='visible';
                document.getElementById('popup2').style.visibility='visible';
            }       

        </script>
    </body>
</html>