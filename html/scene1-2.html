<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scene1-2</title>
    <link rel="stylesheet" href="../styles/scene1.css">

    <style>
        body{
            -ms-overflow-style: none;   
            scrollbar-width: none;  
            overflow-y: scroll;  
        }

        body::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body>
    <audio autoplay loop id="bg-music">
        <source src="../assets/audio/bgm/Future_Glider_-_Brian_Bolger.mp3" type="audio/mpeg" />
    </audio>
    
    <div class="main-page">
        <div id="bg1" class="image">
            <img class="img-bg" src="../assets/images/scene1/scene1BG.png" alt="in the laboratory">
        </div>  

        <div class="image" id="bg-cover"></div>

        <div id="telescope-imgs" class="image">
            <img class="img-b" id="target1" src="../assets/images/scene1/earth.png"  scale="1" >
            <img class="img-b" id="target2" src="../assets/images/scene1/zoom1.png"  scale="1" >
            <img class="img-b" id="target3" src="../assets/images/scene1/zoom2.png"  scale="1" >
        </div>

        <img class="image" src="../assets/images/scene1/telescope.png">
        <span id="tooltip" class="tooltiptext">Click to zoom in</span>
                
        <div class="text">
            <div id="box1" class="textbox" >
                <p>This is how earth looks like from the spaceship.</p>
            </div>
        </div>

        <div class="text">
            <div id="box2" class="textbox2" >
                <p>The temperature on earth is 3 degrees higher than pre-industrial temperatures and has left many countries with food shortages, extreme weather like droughts, and some places have gone underwater because of the high sea levels.</p>
            </div>
        </div>


        <div class="text">
            <div id="box3" class="textbox2" >
                <p>2 billion people migrate to other countries because their countries are unlivable, which isnâ€™t always possible for those in poverty. Masks are also needed in some places to protect the lungs from smog.</p>
            </div>
        </div>


        <button class="zoomBtn" onclick="zoomIn()">
            <img class="zoomBtn-img" src="../assets/images/scene1/zoomBtn.png" title="zoom in button">
        </button>

        <div class="btn2" id="nextBtn" onclick="window.location.href='scene2.html'" style="display: none"></div> 

    </div>

    <script>
        var pic1 = document.getElementById("target1");
        var pic2 = document.getElementById("target2");
        var pic3 = document.getElementById("target3");
        var pic4 = document.getElementById("bg-cover");
        var tb1 = document.getElementById("box1");
        var tb2 = document.getElementById("box2");
        var tb3 = document.getElementById("box3");
        var next = document.getElementById("nextBtn");

        var counter = 0;
        console.log(counter);
    
        function zoomIn() {
            document.getElementById('tooltip').style.visibility='hidden';

            counter += 1;

            console.log(counter);

            if(counter > 2){
                counter = 0;
            }

            if(counter == 0){
                pic1.style.opacity = 1;
                pic2.style.opacity = 0;
                pic3.style.opacity = 0;
                pic4.style.opacity = 0;
                tb1.style.display = "block";
                tb2.style.opacity = 0;
                tb3.style.opacity = 0;
        

                document.getElementById('target1').className = 'classname';
                document.getElementById('target3').className = 'classname2';
                document.getElementById('box1').className = 'textbox';
                document.getElementById('box2').className = "textbox2";
                document.getElementById('box3').className = "textbox2";
  
            }

            else if(counter == 1){
                pic1.style.opacity = 0;
                pic2.style.opacity = 1;
                pic3.style.opacity = 0;
                pic4.style.opacity = 1;
                tb1.style.display = "none";
                tb2.style.opacity = 1;
                tb3.style.opacity = 0;

                document.getElementById('target2').className = 'classname';
                document.getElementById('target1').className = 'classname2';
                document.getElementById('box1').className = 'textbox';
                document.getElementById('box2').className = "textbox2-animated";
                document.getElementById('box3').className = "textbox2";                

            }

            else if(counter == 2) {
                pic1.style.opacity = 0;
                pic2.style.opacity = 0;
                pic3.style.opacity = 1;
                pic4.style.opacity = 1;
                tb1.style.display = "none";
                tb2.style.opacity = 0;
                tb3.style.opacity = 1;

                document.getElementById('target3').className = 'classname';
                document.getElementById('target2').className = 'classname2';
                document.getElementById('box1').className = 'textbox';
                document.getElementById('box2').className = "textbox2";
                document.getElementById('box3').className = "textbox2-animated";

                waitForBtn(next);
                
            }

        }

        function waitForBtn(btn) {
            setTimeout (function () {
                btn.style.display = "block";
            }, 3000);
        }

        document.getElementById("bg-music").volume = 0.05;

    </script>
</body>
</html>