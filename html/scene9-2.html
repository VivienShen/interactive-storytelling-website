<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scene 9</title>
    <link rel="stylesheet" href="../styles/scene9.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

        <div id="bg" class="image-2">
            <img class="img-bg2" src="../assets/images/scene9/background.png" alt="parallax scene background">
        </div> 
    
        <Section class="sec1" id="sec1">
            <img class="bg1" src="../assets/images/scene9/sea/sea-bckg.png" alt="sea background">
            <img class="image15" id="img" src="../assets/images/scene9/sea/seaweed (2)Letter.png">
            <img class="image16" id="img" src="../assets/images/scene9/sea/seaweedLetter.png">
            <img class="image14" id="img" src="../assets/images/scene9/sea/rockLetter.png">
            <img class="image1" id="img" src="../assets/images/scene9/sea/fishes.png">
            <img class="image11" id="img" src="../assets/images/scene9/sea/corals4Letter.png">
            <img class="image12" id="img" src="../assets/images/scene9/sea/fishes-bgLetter.png">
            <img class="image2" id="img" src="../assets/images/scene9/sea/turtl.png">
            <svg id="path2"  viewBox="30 0 786 400">
                <path id="motionPath2" d="M -122 -2 C -13 152 105 206 202 260 C 332 330 558 360 834 331" fill="none" stroke="#5dba4700" stroke-width="2"/>
            </svg>

            <img class="image4" id="img" src="../assets/images/scene9/sea/Asset 37Letter.png">
            <img class="image21" id="img" src="../assets/images/scene9/sea/corals.png">
            <img class="image6" id="img" src="../assets/images/scene9/sea/bottomLetter.png">
            <img class="image3" id="img" src="../assets/images/scene9/sea/Asset 36Letter.png">
            <img class="image5" id="img"src="../assets/images/scene9/sea/blackFishLetter.png">
            <svg id="path3"  viewBox="30 0 786 400">
                <path id="motionPath3" d="M 883 37 C 640 -34 450 80 396 148 C 257 322 75 402 -43 317" fill="none" stroke="#5dba4700" stroke-width="2"/>
            </svg>

            <img class="image7" id="img" src="images/sea/btwn sea and arcticLetter.png">
            <img class="image8" id="img" src="../assets/images/scene9/sea/bublesLetter.png">
            <img class="image9" id="img" src="../assets/images/scene9/sea/corals2Letter.png">
            <img class="image10" id="img" src="../assets/images/scene9/sea/corlas1Letter.png">
            <img class="image13" id="img" src="../assets/images/scene9/sea/redFishesLetter.png">
            <img class="image18" id="img" src="../assets/images/scene9/sea/waveLetter.png">

            <img class="image19" id="img" src="../assets/images/scene9/sea/yelloFish-topLetter.png">
            <svg id="path1"  viewBox="30 0 786 400">
                <path id="motionPath1" d="M 804 60 C 804 60 717 0 511 28 C 277 64 181 270 58 318" fill="none" stroke="#5dba4700" stroke-width="2"/>
            </svg>

            <img class="image20" id="img" src="../assets/images/scene9/sea/yelloFishesLetter.png"> 
            <svg id="path4"  viewBox="30 0 786 400">
                <path id="motionPath4" d="M 1075 181 C 957 47 791 29 600 102 C 385 195 158 253 7 259" fill="none" stroke="#5dba4700" stroke-width="2"/>
            </svg>

            <div class="text" id="text1" style="display:none;">
                <div id="box1" class="textbox" >
                    <p>While Aeryn's future is undetermined, you have done the best you can do to create a better life for her and others living on earth and space. </p>
                </div>
            </div>

            <!--SCROLL DOWN INDICATOR-->
            <div class="scroll-indicator">
                <div class="scroll"></div>
                <p class="scroll-text">Scroll Down</p>
            </div>
        
        </Section>
    
        <img class="image7" id="img" src="../assets/images/scene9/divider-03.png"> 
    
        <Section class="sec2" id="sec2">
            <img class="bg2" src="../assets/images/scene9/arctic/arctic-bckg.png" alt="arctic background">
            <img class="image2-1" src="../assets/images/scene9/arctic/BirdsLetter.png">
            <img class="image2-2" src="../assets/images/scene9/arctic/floating iceLetter.png">
            <img class="image2-3" src="../assets/images/scene9/arctic/Ice-bigLetter.png">
            <img class="image2-4" src="../assets/images/scene9/arctic/IcebergLetter.png">
            <img class="image2-5" src="../assets/images/scene9/arctic/Iceberg2Letter.png">
            <img class="image2-6" src="../assets/images/scene9/arctic/polar bearsLetter.png">
            <img class="image2-7" src="../assets/images/scene9/arctic/polarbear-aloneLetter.png">
            <img class="image2-8" src="../assets/images/scene9/arctic/walrusLetter.png">
            <img class="image2-9" src="../assets/images/scene9/arctic/whaleLetter.png">

            <div class="text" id="text2" style="display:none;">
                <div id="box2" class="textbox" >
                    <p>We hope that by 2050 a net zero can be achieved where greenhouse gasses are no longer emitted so the global temperature doesn’t increase and destroy habitats for animals and homes for people. </p>
                </div>
            </div>
        </Section>
    
        <Section class="sec3"  id="sec3">
            <div class="container3">
                <img class="bg3" src="../assets/images/scene9/amazon/amazon-bckg.png" alt="amazon background"> 
                <img class="image3-0" id="img" src="../assets/images/scene9/divider2-03.png"> 
                <img class="image3-7" src="../assets/images/scene9/amazon/bg3Letter.png">
                <img class="image3-17" src="../assets/images/scene9/amazon/bg_tree (2)Letter.png">
                <img class="image3-6" src="../assets/images/scene9/amazon/bg2Letter.png">
                <img class="image3-4" src="../assets/images/scene9/amazon/bg_treesLetter.png">
                <img class="image3-16" src="../assets/images/scene9/amazon/vinesLetter.png"> 
                
                <img class="image3-5" src="../assets/images/scene9/amazon/bg1Letter.png">
                
                <img class="image3-2" src="../assets/images/scene9/amazon/tree_rightLetter.png">
                <img class="image3-8" src="../assets/images/scene9/amazon/birdLetter.png">
                <img class="image3-9" src="../assets/images/scene9/amazon/JaguarLetter.png">
                
                <img class="image3-3" src="../assets/images/scene9/amazon/bg_treeLetter.png">
                <img class="image3-1" src="../assets/images/scene9/amazon/tree_leftLetter.png">
                <img class="image3-11" src="../assets/images/scene9/amazon/leaves_secondLetter.png">
                <img class="image3-10" src="../assets/images/scene9/amazon/leaves_frontLetter.png">
                <img class="image3-13" src="images/amazon/leves_thirdLetter.png"> 
                <img class="image3-15" src="../assets/images/scene9/amazon/slothLetter.png">
                
                <img class="bg4" src="../assets/images/scene1/scene1BG.png" alt="space background"> 
                
                <img class="envelope_top" src="../assets/images/scene9/letter_top-01.png">
                <img class="contract_end" src="../assets/images/scene9/contract_lastFrame.png">
                <img class="contract_fold1" src="../assets/images/scene9/letter_fold1-02.png">
                <img class="contract_fold2" src="../assets/images/scene9/letter_fold2-02.png">
                <img class="envelope_btm" src="../assets/images/scene9/letter_bottom-01.png">

                <img class="envelope_closed" src="../assets/images/scene9/letter_closed-02.png"> 
                <div class="end-text-container">
                    <p class="end-text">The End</p>
                </div>

                <div class="text" id="text3" style="display:none;">
                    <div id="box3" class="textbox" >
                        <p>With the help of politicians, industries, scientists, and the general population, we can take care of our Earth and make sure there’s a brighter future for all. </p>
                    </div>
                </div>

                <button class="restart-btn" onclick="window.location.href='intro.html'" style="display:none;">Restart?</button>
                
            </div>
            
        </Section>

        <div id="nextBtn next2" class="btn2 btn next2" onclick= "endScene()" style="display: none;"></div>

    
    <div class="inventory">
        <img id="inventory-bg" src="../assets/images/scene6/inventory-panel.png" alt="inventory box">
        <progress id="popularity-meter" min="0" max="100" value="0"><span></span></progress>
        <div class="icons">
            <img id="camera-icon" class="icon" src="../assets/images/scene6/icon-cam.png" alt="camera item" style="display: block;">
            <img id="map-icon" class="icon" src="../assets/images/scene6/icon-map.png" alt="map item" style="display: block;">
            <img id="teleport-icon" class="icon" src="../assets/images/scene6/icon.png" alt="teleport button" style="display: block;">
        </div>
    </div>
    
    <script src="../js/meter.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/MotionPathPlugin.min.js"></script>
    
    <script>
        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: '.sec1',
                scrub: 1,
                start: 'top top',
                end: '+=6500',
                // pin: true,
                //markers: true
            }
        });
        tl.to(".image18", {
            y: "-100%",
            scrub: 2
        },'start')
        .to(".image1", {
            y: "-100%",
            scrub: 2
        },'start')
        // .to(".image2", {
        //     y: "-100%",
        //     scrub: 2
        // },'start')
        .to(".image3", {
            y: "-100%",
            scrub: 2
        },'start')
        .to(".image4", {
            y: "-100%",
            scrub: 2
        },'start')
        // .to(".image5", {
        //     y: "-100%",
        //     scrub: 2
        // },'start')
        .to(".image6", {
            y: "-100%",
            scrub: 2
        },'start')
        .to(".image8", {
            y: "-100%",
            scrub: 2
        },'start')
        .to(".image9", {
            y: "-110%",
            scrub: 2
        },'start')
        .to(".image10", {
            y: "-67%",
            scrub: 2
        },'start')
        .to(".image11", {
            y: "-110%",
            scrub: 2
        },'start')
        .to(".image12", {
            y: "-100%",
            scrub: 2
        },'start')
        .to(".image13", {
            y: "-300%",
            scrub: 2
        },'start')
        .to(".image14", {
            y: "-30%",
            scrub: 2
        },'start')
        .to(".image15", {
            y: "-100%",
            scrub: 2
        },'start')
        .to(".image16", {
            y: "-100%",
            scrub: 2
        },'start')
        // .to(".image19", {
        //     y: "-100%",
        //     scrub: 2
        // },'start')
        // .to(".image20", {
        //     y: "-100%",
        //     scrub: 2
        // },'start')
        .to(".image7", {
            y: "-50%",
            scrub: 2
        },'start')
        .to(".image21", {
            y: "-50%",
            scrub: 2
        },'start')
        .to("#text1", {
            display: "block",
            scrub: 2
        },'start')
        .to(".scroll-indicator", {
            opacity: 0,
            duration: 2
        },'start')
        
        const tl2 = gsap.timeline({
            scrollTrigger: {
                trigger: '.sec2',
                scrub: 1,
                start: 'top top',
                end: '+=4600',
                // pin: true,
                //markers: true
            }
        });
        tl2.to(".image2-1", {
            y: "1350%",
            x: "-60%",
            scrub: 1
        },'start')
        .to(".image2-2", {
            x: "40%",
            scrub: 2
        },'start')
        .to(".image2-3", {
            y: "-30%",
            x:"-10%",
            scrub: 2
        },'start')
        .to(".image2-4", {
            y: "-100%",
            scrub: 2
        },'start')
        .to(".image2-5", {
            y: "-30%",
            scrub: 2
        },'start')
        .to(".image2-5", {
            x: "20%",
            scrub: 2
        },'start')
        .to(".image2-6", {
            x: "-130%",
            scrub: 2
        },'start')
        .to(".image2-7", {
            x: "-450%",
            scrub: 2
        },'start')
        .to(".image2-8", {
            x: "250%",
            scrub: 2
        },'start')
        .to(".image2-9", {
            y: "-240%",
            scrub: 2
        },'start')
        .to("#text2", {
            display: "block",
            scrub: 2
        },'start')
        
        const tl3 = gsap.timeline({
            scrollTrigger: {
                trigger: '.sec3',
                scrub: 1,
                start: 'top top',
                end: '+=3000',
                // pin: true,
                // markers: true
            }
        });
        tl3.to(".image3-1", {
            y: "-30%",
            x: "25%",
            scrub: 2
        },'start')
        .to(".image3-2", {
            y: "-30%",
            x: "-30%",
            scrub: 2
        },'start')
        .to(".image3-3", {
            y: "-30%",
            x:"20%",
            scrub: 2
        },'start')
        .to(".image3-4", {
            y: "-40%",
            scrub: 2
        },'start')
        .to(".image3-5", {
            y: "-60%",
            scrub: 2
        },'start')
        .to(".image3-6", {
            y: "-50%",
            scrub: 2
        },'start')
        .to(".image3-7", {
            y: "-40%",
            scrub: 2
        },'start')
        .to(".image3-8", {
            y: "-145%",
            x: "130%",
            scrub: 2
        },'start')
        .to(".image3-9", {
            x: "80%",
            y: "-25%",
            scrub: 2
        },'start')
        .to(".image3-10", {
            y: "-20%",
            scrub: 2
        },'start')
        .to(".image3-11", {
            y: "-65%",
            scrub: 2
        },'start')
        .to(".image3-15", {
            y: "-170.5%",
            x: "-100%",
            scrub: 2
        },'start')
        .to(".image3-16", {
            y: "-30%",
            scrub: 2
        },'start')
        .to(".image3-17", {
            y: "-55%",
            scrub: 2
        },'start')
        .to("#text3", {
            display: "block",
            scrub: 2
        },'start')

        const tl4 = gsap.timeline({
            scrollTrigger: {
                trigger: '.sec1',
                scrub: 2,
                start: 'top top',
                end: '+=2500',
                // markers: true
            }
        }, 'start');

        tl4.to(".image19", {
            motionPath: {
                path: "#motionPath1",
                align: "#motionPath1",
                alignOrigin: [0.5, 0.2],
                autoRotate: -200,
            },
            duration: 40
            
        }, 'start')
        .to(".image2", {
            motionPath: {
                path: "#motionPath2",
                align: "#motionPath2",
                alignOrigin: [0.5, 0.2],
                autoRotate: -40,
            },
            duration: 50
            
        }, '-=35')
        .to(".image5", {
            motionPath: {
                path: "#motionPath3",
                align: "#motionPath3",
                alignOrigin: [0.5, 0.2],
                autoRotate: -160,
            },
            duration: 50
            
        }, '-=35')
        .to(".image20", {
            motionPath: {
                path: "#motionPath4",
                align: "#motionPath4",
                alignOrigin: [0.5, 0.2],
                autoRotate: -180,
            },
            duration: 50
            
        }, '-=35')

        var next = document.getElementById("nextBtn next2");
        
        function endScene() {
            gsap.timeline()
                .to(".bg4", {
                    y: "-100%",
                    scrub: 1,
                    duration: 2
                })
                .to(".envelope_top", {
                    y: "-100%",
                    scrub: 1,
                    duration: 2
                }, '-=1')
                .to(".envelope_btm", {
                    y: "-100%",
                    scrub: 1,
                    duration: 2
                    
                }, '-=2')
                .to(".contract_end", {
                    display: "block",
                    scrub: 1,
                    duration: 2
                }, '-=1.5')
                .to(".contract_end", {
                    y: "92%",
                    scrub: 1,
                    duration: 2
                    
                }, '-=1.5')
                .to(".contract_end", {
                    opacity: 0,
                    duration: 2
                    
                },"envelope")
                .to(".contract_fold1", {
                    opacity: 1,
                    duration: 2
                    
                }, 'envelope')
                .to(".contract_fold1", {
                    opacity: 0,
                    duration: 2
                    
                }, 'envelope')
                .to(".contract_fold2", {
                    opacity: 1,
                    duration: 2
                    
                }, 'envelope')
                .to(".contract_fold2", {
                    y: "33%",
                    x: "5%",
                    duration: 2
                    
                }, '-=1.5')
                .to(".envelope_closed", {
                    opacity: 1,
                    duration: 0.5
                    
                }, '-=1')
                .to(".end-text-container", {
                    display: "block",
                    duration: 0.5
                    
                }, '-=1')
                .to(".envelope_top", {
                    opacity: 0,
                    duration: 1
                }, '-=1')
                .to(".envelope_btm", {
                    opacity: 0,
                    duration: 1
                    
                }, '-=1')
                .to(".contract_end", {
                    opacity: 0,
                    duration: 1
                    
                }, '-=1')
                .to(".contract_fold2", {
                    opacity: 0,
                    duration: 1
                    
                }, '-=1')
                .to(".restart-btn", {
                    display: "block",
                    duration: 1
                    
                }, '-=1')

            next.style.display = "none";

            var $window = $(window);

            $(window).on('scroll', function() {
                $topOffset = $(this).scrollTop();
            
                console.log($topOffset);

                if($topOffset > 6100){
                    next.style.display = "none";
                }
            
            });
        }

        var $window = $(window);

        $(window).on('scroll', function() {
            $topOffset = $(this).scrollTop();
        
            console.log($topOffset);

            if($topOffset > 6100){
                next.style.display = "block";
            }else{
                next.style.display = "none";
            }
        
        });

        //Retrieving changed name from local storage
        var inputVal = localStorage.getItem("newName");
        console.log(inputVal);

        var all = document.querySelectorAll('b');

        all.forEach(x => x.textContent = x.textContent.replace(/Aeryn/gi, inputVal));
        

        function showEnding() {
            lastScene.style.display = "inline";
            secondLst.style.display = "none";
        }

    </Script>
</body>
</html>